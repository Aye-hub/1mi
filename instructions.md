## 运行级别

**运行级别**是指Linux系统下的不同运行模式，运行级别通常分为7种，分别是0-6。

### 级别

| 级别 |          解释          |
| :--: | :--------------------: |
|  0   |          关机          |
|  1   | 单用户（找回丢失密码） |
|  2   |    多用户无网络服务    |
|  3   |    多用户有网络服务    |
|  4   |          保留          |
|  5   |        图形界面        |
|  6   |          重启          |

### 配置文件位置

`/etc/inittab`

### 切换到指定运行级别

```bash
init [0123456]
```

## 帮助指令

```bash
man
```

```bash
help
```

## 文件管理

### 查看当前所处的目录

```bash
pwd
```

### 列出文件

```bash
ls
ls -a 	（包括隐藏的文件）
ls -l 	（以列表的形式展示）
ls -al	（显示详细信息）
```

### 切换目录

```bash
cd
```

!> 绝对路径：	`/home` 即从根目录开始定位

!> 相对路径：    `../home` 从当前目录开始定位到需要的目录

```bash
cd ~	（回到家目录）
```

```bash
cd ..	（回到上一级目录）
```

### 创建目录

```bash
mkdir 要创建的目录
mkdir -p 目录A/子目录B
```

> -p：在目录A中创建目录B。若目录A不存在，则会创建一个。

### 删除目录

```bash
rmdir [选项] 要删除的空目录
rmdir -p /user/lib/test	（将/user/lib/test目录删除）
rm -rf 要删除的目录
```

### 创建空文件

```bash
touch 文件名称	（可以一次性创建多个文件）
```

### 拷贝

```bash
cp 源文件 目标
cp -r 源文件夹 目标
\cp -r 源文件夹 目标	（强制覆盖）
```

### 移除文件或目录

```bash
rm 要删除的文件夹
rm -rf 删除文件夹
rm -f 强制删除不提示
```

### 移动文件与目录或重命名

```bash
mv 源文件 新文件 （一个文件夹内相当于重命名）
mv /temp/movefile /targetFolder （移动文件）
```

### 查看文件内容

```bash
cat [选项] 要查看的文件
cat [选项] 要查看的文件 | more （分页显示）
```

> 常用选项：
> -n ： 显示行号

### more指令

**基于 vi 编辑器的文本过滤器，以全屏幕的方式按页显示文本文件的内容。**

```bash
more 要查看的文件
```

> 快捷键：
>
> 空格键：向下翻一页；
>
> Enter：向下翻一行；
>
> q：立刻离开 more，不再显示该文件内容
>
> Ctrl + F：向下滚动一屏；
>
> Ctrl + B：返回上一屏；
>
> =：输入当前行的行号；
>
> :f：输出文件名和当前行的行号；

### less指令

**less用来分屏查看文件内容。**

```bash
less 要查看的文件
```

> 快捷键：
>
> 空格键：向下翻一页；
>
> [pagedown]：向下翻一页；
>
> [pageup]：向上翻一页；
>
> /字串：向下搜寻【字串】的功能；n：向下查找；N：向上查找；
>
> ?字串：向上搜寻【字串】的功能；n：向上查找；N：向下查找；
>
> q：离开 less 这个程序；

### >指令和>>指令

**> 输出重定向：会将原来文件的内容覆盖**

**>> 追加：不会覆盖，而是追加到尾部**

```bash
ls -l > 文件 （列表的内容写入文件a.txt中（覆盖写））
ls -al >> 文件 （列表的内容追加到文件aa.txt的末尾）
cat 文件1 > 文件2 （将文件1的内容覆盖到文件2）
echo "内容" >> 文件
```

### echo指令

```bash
echo [选项] [输出内容]
```

> echo $PATH （输出环境变量）

### head指令

**head 用于显示文件的开头部分内容，默认显示10行。**

```bash
head 文件
head -n 5 文件名（显示文件的前5行）
```

### tail指令

**tail 用于输出文件的末尾内容，默认显示最后10行。**

```bash
tail 文件 （查看文件后10行内容）
tail -n 5 文件 （查看文件最后5行内容，5可以是任意行数）
tail -f 文件 （实时追踪该文件的多有更新）
```

### ln指令

**软链接也叫符号链接，类似于windows里的快捷方式，主要存放了链接其他文件的路径。**

```bash
ln -s [源文件或目录] [软链接名] （给源文件创建一个软链接）
# 删除软链接
rm -rf [软链接名]
```

!> 注意：
删除软链接时，软连接名后面不要加 /，当使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。

### history指令

**查看已经执行过的历史命令，也可以执行历史指令。**

```bash
history （查看已经执行过的历史命令）
history 10 （查看最近使用过的10条指令）
!178 （执行编号为178的指令）
```

### date指令

#### 显示当前日期

```bash
date （显示当前时间）
date "+%Y-%m-%d" （显示年月日）
date "+%Y-%m-%d %H:%M:%S" （显示年月日时分秒）
```

#### 设置日期

```bash
date -s 字符串时间
```

### cal指令

**显示日历**

```bash
cal [选项] [月份] [年份]
cal 2020 （显示2020年的日历）
```

> 参数：
> -1 显示一个月的月历
> -3 显示系统前一个月，当前月，下一个月的月历
> -s  显示星期天为一个星期的第一天，默认的格式
> -m 显示星期一为一个星期的第一天
> -j  显示在当年中的第几天（一年日期按天算，从1月1号算起，默认显示当前月在一年中的天数）
> -y  显示当前年份的日历

### find指令

```bash
find [搜索范围] [选项]
```

|      选项       |               功能               |
| :-------------: | :------------------------------: |
| -name<查询方式> | 按照指定的文件名查找模式查找文件 |
|  -user<用户名>  |    查找属于指定用户名所有文件    |
| -size<文件大小> |    按照指定的文件大小查找文件    |

**举例**

```bash
find / -size +20M （查找系统下大于20m的文件）
find / -size -20M （查找系统下小于20m的文件）
find / -size 20M （查找系统下等于20m的文件）
```

> ls -lh 文件名 （-lh：以人们能通俗易懂的形式展示）

### locate指令

**可以快速定位文件路径。**

```bash
locate 文件名
```

!> 特别说明：
第一次运行前，必须使用 updatedb 指令创建 locate 数据库。

### grep指令和管道符 |

> **grep：**过滤查找。
>
> **管道符 | ：**将前一个命令的处理结果输出传递给后面的命令处理。

```bash
grep [选项] 查找内容源文件
```

| 选项 |       功能       |
| :--: | :--------------: |
|  -n  | 显示匹配行及行号 |
|  -i  |  忽略字母大小写  |

### 压缩和解压缩

#### gzip/gunzip指令

- gzip：压缩文件
- gunzip：解压文件

```bash
gzip 文件 （压缩文件，只能将文件压缩为*.gz文件）
gunzip 文件.gz （解压文件）
```

!> gzip：压缩完后，不会保留原文件

#### zip和unzip指令

```bash
zip [选项] XXX.zip 将要压缩的内容 （压缩文件和目录的命令）
```

> -r：递归压缩，即压缩目录。

```bash
unzip [选项] XXX.zip （解压缩文件）
```

> -d<目录>：指定解压后文件的存放目录

**第一次使用需要安装zip和unzip：**

Centos：

```bash
yum install zip
yum install unzip
```

Ubuntu：

```bash
sudo apt-get update
apt-get install zip
apt-get install unzip
```

### tar指令

**tar 指令是打包指令，最后打包的是 .tar.gz的文件。**

```bash
tar [指令] XXX.tar.gz 打包的内容
```

| 选项 |        功能        |
| :--: | :----------------: |
|  -c  |  产生.tar打包文件  |
|  -v  |    显示详细信息    |
|  -f  | 指定压缩后的文件名 |
|  -z  |    打包同时压缩    |
|  -x  |    解包.tar文件    |

**举例：**

```bash
tar -zcvf a.tar.gz a1.txt a2.txt （将a1.txt a2.txt打包成a.tar.gz）
tar -zcvf myhome.tar.gz /home/ （将home目录下的所有文件打包）
tar -zxvf a.tar.gz （解压a.tar.gz文件）
tar zxvf myhome.tar.gz -C /opt/ （将myhome.tar.gz解压到opt目录下）
```

